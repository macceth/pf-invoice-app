(this["webpackJsonpinvoice-app"]=this["webpackJsonpinvoice-app"]||[]).push([[0],{226:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var r,n=a(1),s=a.n(n),c=a(43),i=a.n(c),l=a(3),d=a(6),o=a(8),u=a(4),x=a.n(u),m=a(11),j=a(29),b=a(9),p=a(0),f=function(e){var t=e.className,a=e.name,r=e.readonly,n=e.label,s=e.onChange,c=e.type,i=void 0===c?"text":c,l=e.value,d={};return s&&(d.onChange=s),l&&(d.value=l),Object(p.jsxs)("div",{className:t||"",children:[Object(p.jsx)("label",{className:"block font-normal text-gray-500 dark:text-gray-400 text-sm mt-3 mb-2",children:n}),Object(p.jsx)(b.b,Object(j.a)(Object(j.a)({type:i,readOnly:r,name:a},d),{},{className:"mt-1 block w-full bg-white dark:bg-app-dark-5 rounded-md \r border-gray-300 dark:border-gray-800  font-bold\r focus:border-purple focus:ring-1 focus:ring-purple text-gray-900 dark:text-gray-100"})),Object(p.jsx)(b.a,{name:a,children:function(e){return Object(p.jsx)("div",{className:" text-red-500 text-sm mt-3",children:e})}})]})};!function(e){e[e.NewInvoice=0]="NewInvoice",e[e.MarkAsPaid=1]="MarkAsPaid",e[e.Edit=2]="Edit",e[e.Delete=3]="Delete",e[e.Cancel=4]="Cancel",e[e.SaveAsDraft=5]="SaveAsDraft",e[e.Discard=6]="Discard",e[e.SaveAndSend=7]="SaveAndSend",e[e.SaveChange=8]="SaveChange",e[e.NewItem=9]="NewItem"}(r||(r={}));var h,g=function(e){var t=e.mode,a=e.className,n=e.onClick,c=a||"";return t===r.NewInvoice?c="bg-purple m-1 text-white rounded-3xl px-2 py-2 hover:bg-purple-light transition-color duration-100":t===r.MarkAsPaid||t===r.SaveAndSend||t===r.SaveChange?c="bg-purple m-1 text-white rounded-3xl px-5 py-3 hover:bg-purple-light transition-color duration-100":t===r.Edit||t===r.Cancel?c="bg-gray-100 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-800 m-1 text-gray-600 dark:text-gray-400 dark:hover:text-gray-200 rounded-3xl px-5 py-3 transition-color duration-100":t===r.Delete?c="bg-red-500 m-1 text-white rounded-3xl px-5 py-3 hover:bg-red-400 transition-color duration-100":t===r.Discard?c="bg-gray-100 m-1 text-gray-600 rounded-3xl px-5 py-3 hover:bg-gray-300 transition-color duration-100":t===r.SaveAsDraft?c="bg-app-dark-3 m-1 text-gray-400 rounded-3xl px-5 py-3 hover:bg-app-dark-2 transition-color duration-100":t===r.NewItem&&(c="w-full flex justify-center items-center bg-gray-100 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-800 mt-5 text-gray-600 dark:text-gray-400 dark:hover:text-gray-200 rounded-3xl px-5 py-3 transition-color duration-100"),Object(p.jsxs)("button",{className:c,onClick:n,type:"button",children:[t===r.NewInvoice&&Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)("img",{className:"bg-white rounded-full p-3 inline-block mr-3",src:"/pf-invoice-app/assets/icon-plus.svg",alt:"icon plus"}),"New Invoice"]}),t===r.MarkAsPaid&&Object(p.jsx)(s.a.Fragment,{children:"Mark as Paid"}),t===r.Edit&&Object(p.jsx)(s.a.Fragment,{children:"Edit"}),t===r.Cancel&&Object(p.jsx)(s.a.Fragment,{children:"Cancel"}),t===r.Delete&&Object(p.jsx)(s.a.Fragment,{children:"Delete"}),t===r.Discard&&Object(p.jsx)(s.a.Fragment,{children:"Discard"}),t===r.SaveAsDraft&&Object(p.jsx)(s.a.Fragment,{children:"Save as Draft"}),t===r.SaveChange&&Object(p.jsx)(s.a.Fragment,{children:"Save Change"}),t===r.SaveAndSend&&Object(p.jsx)(s.a.Fragment,{children:"Save & Send"}),t===r.NewItem&&Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)("img",{src:"/pf-invoice-app/assets/icon-plus.svg",alt:"plus-icon",className:"mr-3"}),"Add New Item"]})]})},v=a(34),O=function(){return Object(v.b)()},y=v.c,N=function(e,t){Object(n.useEffect)((function(){function a(a){null!==e&&e.current&&!e.current.contains(a.target)&&t()}return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}),[e,t])},k=a(47),w=Object(k.b)({name:"invoice",initialState:{invoices:[],invoiceItem:null},reducers:{replaceInvoices:function(e,t){e.invoices=t.payload.invoices},replaceInvoiceItem:function(e,t){e.invoiceItem=t.payload.invoiceItem}}}),C=w.actions,A=w,D=a(59),S=a.n(D),E=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var a,r,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(a=localStorage.getItem("data"))){e.next=7;break}r=JSON.parse(a),t(C.replaceInvoices({invoices:r})),e.next=12;break;case 7:return e.next=9,S.a.get("/pf-invoice-app/assets/data.json");case 9:n=e.sent,localStorage.setItem("data",JSON.stringify(n.data)),t(C.replaceInvoices({invoices:n.data}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(a){var r,n,s,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=localStorage.getItem("data"))){t.next=6;break}r=JSON.parse(n),t.next=10;break;case 6:return t.next=8,S.a.get("/pf-invoice-app/assets/data.json");case 8:s=t.sent,r=s.data;case 10:c=r?r.find((function(t){return t.id===e})):null,a(C.replaceInvoiceItem({invoiceItem:c})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(a,r){var n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=r().invoice.invoices,s=n.filter((function(t){return t.id!==e})),localStorage.setItem("data",JSON.stringify(s))}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},q=function(e,t){return function(){var a=Object(m.a)(x.a.mark((function a(r,n){var s,c;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{s=n().invoice.invoices,c=s.map((function(a){return a.id===e?t:a})),localStorage.setItem("data",JSON.stringify(c))}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(a,r){var n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=r().invoice.invoices,s=[].concat(Object(o.a)(n),[e]),localStorage.setItem("data",JSON.stringify(s))}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Y=a(17),M=a.n(Y),R=function(e){var t=e.label,a=e.className,r=void 0===a?"":a,s=e.name,c=e.value,i=e.setValue,d=Object(n.useState)(!1),o=Object(l.a)(d,2),u=o[0],x=o[1],m=Object(n.useState)(10),j=Object(l.a)(m,2),f=j[0],h=j[1],g=Object(n.useState)(2021),v=Object(l.a)(g,2),O=v[0],y=v[1],k=Object(n.useState)([]),w=Object(l.a)(k,2),C=w[0],A=w[1],D=Object(n.useState)([]),S=Object(l.a)(D,2),E=S[0],I=S[1],T=Object(n.useRef)(null);N(T,(function(){x(!1)}));var q=function(e){var t=M()().year(O).month(f).date(e);return c===t.format("YYYY-MM-DD")};return Object(n.useEffect)((function(){var e=M()(c,"YYYY-MM-DD");h(e.month()),y(e.year())}),[c]),Object(n.useEffect)((function(){for(var e=new Date(O,f+1,0).getDate(),t=new Date(O,f).getDay(),a=[],r=1;r<=t;r++)a.push(r);for(var n=[],s=1;s<=e;s++)n.push(s);A(a),I(n)}),[f,O]),Object(p.jsxs)("div",{ref:T,className:"relative "+r,children:[Object(p.jsx)("label",{className:"block font-normal text-gray-500 dark:text-gray-400 text-sm mt-3 mb-2",children:t}),Object(p.jsx)(b.b,{readOnly:!0,name:s,className:"mt-1 block w-full bg-white dark:bg-app-dark-5 rounded-md \r border-gray-300 dark:border-gray-800  font-bold\r focus:border-purple focus:ring-1 focus:ring-purple text-gray-500 dark:text-gray-400",type:"text",onClick:function(){return x(!0)}}),Object(p.jsx)(b.a,{name:s,children:function(e){return Object(p.jsx)("div",{className:" text-red-500 text-sm mt-3",children:e})}}),u&&Object(p.jsxs)("div",{className:"bg-white dark:bg-app-dark-3 mt-12 rounded-lg shadow p-4 absolute top-6 left-0 z-10 w-64",children:[Object(p.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[Object(p.jsx)("button",{type:"button",className:"transition ease-in-out duration-100 inline-flex cursor-pointer hover:bg-gray-200 p-1 rounded-full",onClick:function(){0===f?(h(11),y(O-1)):h(f-1)},children:Object(p.jsx)("img",{src:"/pf-invoice-app/assets/icon-arrow-left.svg",alt:"icon-arrow-left",className:"p-2"})}),Object(p.jsx)("div",{children:Object(p.jsxs)("span",{className:"text-lg font-bold text-gray-800 dark:text-white",children:[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][f]," ",O]})}),Object(p.jsx)("button",{type:"button",className:"transition ease-in-out duration-100 inline-flex cursor-pointer hover:bg-gray-200 p-1 rounded-full",onClick:function(){11===f?(h(0),y(O+1)):h(f+1)},children:Object(p.jsx)("img",{src:"/pf-invoice-app/assets/icon-arrow-right.svg",alt:"icon-arrow-right",className:"p-2"})})]}),Object(p.jsxs)("div",{className:"flex flex-wrap -mx-1",children:[C.map((function(e){return Object(p.jsx)("div",{style:{width:"14.26%"},className:"text-center border p-1 border-transparent text-sm"},e)})),E.map((function(e){return Object(p.jsx)("div",{style:{width:"14.26%"},className:"px-1 mb-1",children:Object(p.jsx)("div",{className:"cursor-pointer text-center text-md font-bold text-gray-800 dark:text-white rounded-full leading-loose transition ease-in-out duration-100"+(q(e)?" text-purple-light dark:text-purple-light":""),onClick:function(){!function(e){var t=M()().year(O).month(f).date(e);i(t.format("YYYY-MM-DD")),x(!1)}(e)},children:e})},e)}))]})]})]})},P=function(e){var t=e.className,a=void 0===t?"":t,r=e.label,s=e.itemName,c=e.itemValue,i=e.items,d=e.value,o=e.setValue,u=e.name,x=Object(n.useState)(!1),m=Object(l.a)(x,2),j=m[0],f=m[1],h=Object(n.useRef)(null);N(h,(function(){f(!1)}));var g=i.find((function(e){return e[c]===d})),v=function(e){return g&&g[c]===e};return Object(p.jsxs)("div",{ref:h,className:a+" relative",children:[Object(p.jsx)("label",{className:"block font-normal text-gray-500 dark:text-gray-400 text-sm mt-3 mb-2",children:r}),Object(p.jsx)(b.b,{readOnly:!0,name:u,className:"mt-1 block w-full bg-white dark:bg-app-dark-5 rounded-md \r border-gray-300 dark:border-gray-800  font-bold\r focus:border-purple focus:ring-1 focus:ring-purple text-gray-500 dark:text-gray-400",type:"text",onClick:function(){f(!0)},value:g?g[s]:""}),Object(p.jsx)(b.a,{name:u,children:function(e){return Object(p.jsx)("div",{className:" text-red-500 text-sm mt-3",children:e})}}),j&&Object(p.jsx)("div",{className:"bg-white min-w-full dark:bg-app-dark-3 absolute text-base z-50 py-2 list-none text-left rounded shadow-lg mt-1 ",id:"dropdown-example-1",children:i.map((function(e,t){return Object(p.jsx)("div",{onClick:function(){var t;t=e[c],o(t),f(!1)},className:"text-sm py-4 dark:text-white font-bold px-4 block bg-transparent text-gray-700 hover:bg-gray-100 cursor-pointer dark:hover:bg-app-dark-4 "+(v(e[c])?" text-purple-light dark:text-purple-light":""),children:e[s]?e[s]:""},t)}))})]})},J=function(e){return Math.random().toString(20).substr(2,e)},V=a(5);!function(e){e[e.CREATE=0]="CREATE",e[e.EDIT=1]="EDIT",e[e.CREATE_DRAFT=2]="CREATE_DRAFT"}(h||(h={}));var _=function(e){var t=e.setShow,a=e.show,s=e.mode,c=e.reload,i=e.darftId,l=Object(n.useRef)(null),o=Object(d.h)().invoiceId;s===h.CREATE_DRAFT&&i&&(o=i);var u=y((function(e){return e.invoice.invoiceItem})),j=o?u:null,v=O();Object(n.useEffect)((function(){o&&v(I(o))}),[v,o]);var N="";N=s===h.CREATE?"New Invoice":s===h.CREATE_DRAFT?"New Invoice (Edit Draft: #".concat(i,")"):"Edit #"+o;var k=function(){var e=Object(m.a)(x.a.mark((function e(a,r){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r).total=n.items.reduce((function(e,t){return e+t.total}),0),n.paymentDue=M()(n.createdAt).add(n.paymentTerms,"days").format("YYYY-MM-DD"),"saveDraft"!==a){e.next=17;break}if(!o){e.next=9;break}return e.next=7,v(q(o,n));case 7:e.next=13;break;case 9:return n.id=J(6).toUpperCase(),n.status="draft",e.next=13,v(F(n));case 13:c(),t(!1),e.next=37;break;case 17:if("saveAndSend"!==a){e.next=32;break}if(!o){e.next=24;break}return n.status="pending",e.next=22,v(q(o,n));case 22:e.next=28;break;case 24:return n.id=J(6).toUpperCase(),n.status="pending",e.next=28,v(F(n));case 28:c(),t(!1),e.next=37;break;case 32:if("saveEdit"!==a){e.next=37;break}return e.next=35,v(q(o,n));case 35:c(),t(!1);case 37:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=9;break}return e.next=3,l.current.validateForm();case 3:return t=e.sent,e.next=6,l.current.setTouched(Object(b.f)(t,!0));case 6:if(!l.current.isValid){e.next=9;break}return e.next=9,k("saveEdit",l.current.values);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=9;break}return e.next=3,l.current.validateForm();case 3:return t=e.sent,e.next=6,l.current.setTouched(Object(b.f)(t,!0));case 6:if(!l.current.isValid){e.next=9;break}return e.next=9,k("saveAndSend",l.current.values);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.current){e.next=5;break}return e.next=3,l.current.setTouched({});case 3:return e.next=5,k("saveDraft",l.current.values);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){s===h.EDIT&&j||s===h.CREATE?l.current&&l.current.resetForm():s===h.CREATE_DRAFT&&i&&j&&(v(T(i)),c()),t(!1)},S=[{text:"7 days",value:7},{text:"15 days",value:15},{text:"30 days",value:30}],E={id:j?j.id:"",clientName:j?j.clientName:"",clientEmail:j?j.clientEmail:"",description:j?j.description:"",senderAddress:{street:j?j.senderAddress.street:"",city:j?j.senderAddress.city:"",postCode:j?j.senderAddress.postCode:"",country:j?j.senderAddress.country:""},clientAddress:{street:j?j.clientAddress.street:"",city:j?j.clientAddress.city:"",postCode:j?j.clientAddress.postCode:"",country:j?j.clientAddress.country:""},items:j?j.items:[],createdAt:j?j.createdAt:M()().format("YYYY-MM-DD"),paymentTerms:j?j.paymentTerms:0,paymentDue:j?j.paymentDue:"",total:j?j.total:0,status:j?j.status:""};return Object(p.jsxs)("div",{children:[Object(p.jsx)(b.e,{enableReinitialize:!0,innerRef:l,initialValues:E,onSubmit:function(e,t){t.setSubmitting;console.log(e)},validationSchema:V.c({clientName:V.d().required("Client name is required"),clientEmail:V.d().email("Invalid email address").required("Client email is required"),description:V.d().required("Description is required"),senderAddress:V.c({street:V.d().required("Street is required"),city:V.d().required("City is required"),postCode:V.d().required("Post code is required"),country:V.d().required("Country is required")}),clientAddress:V.c({street:V.d().required("Street is required"),city:V.d().required("City is required"),postCode:V.d().required("Post code is required"),country:V.d().required("Country is required")}),items:V.a().of(V.c({name:V.d().required("Item name is required"),quantity:V.b().required("Item quantity is required").positive("must not be 0"),price:V.b().required("Item price is required").positive("must not be 0")})),createdAt:V.d().required("Invoice date is required"),paymentTerms:V.b().required("Payment terms is required").positive("Payment terms is required")}),render:function(e){var t=e.values,n=e.setFieldValue,c=e.handleChange;return Object(p.jsxs)(b.d,{className:"fixed flex flex-col justify-between z-20 w-screen max-w-3xl top-0 h-screen transition-all translate duration-300 "+(a?" left-0":" -left-full"),children:[Object(p.jsx)("div",{className:"bg-white dark:bg-app-dark-4 h-full p-8 md:rounded-r-3xl",children:Object(p.jsx)("div",{className:"h-full pb-32 overflow-y-scroll",children:Object(p.jsxs)("div",{className:"mx-2",children:[Object(p.jsx)("h1",{className:"font-bold text-3xl text-gray-900 dark:text-white",children:N}),Object(p.jsx)("p",{className:"text-md mt-10 text-purple font-bold mx-2",children:"Bill From"}),Object(p.jsx)(f,{label:"Street Address",name:"senderAddress.street"}),Object(p.jsxs)("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3",children:[Object(p.jsx)(f,{label:"City",name:"senderAddress.city"}),Object(p.jsx)(f,{label:"Post Code",name:"senderAddress.postCode"}),Object(p.jsx)(f,{className:" col-span-2 sm:col-span-1",label:"Country",name:"senderAddress.country"})]}),Object(p.jsx)("p",{className:"text-md mt-10 text-purple font-bold",children:"Bill To"}),Object(p.jsx)(f,{label:"Client's Name",name:"clientName"}),Object(p.jsx)(f,{label:"Client's Email",name:"clientEmail"}),Object(p.jsx)(f,{label:"Street Address",name:"clientAddress.street"}),Object(p.jsxs)("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3",children:[Object(p.jsx)(f,{className:"",label:"City",name:"clientAddress.city"}),Object(p.jsx)(f,{className:"",label:"Post Code",name:"clientAddress.postCode"}),Object(p.jsx)(f,{className:" col-span-2 sm:col-span-1",label:"Country",name:"clientAddress.country"})]}),Object(p.jsxs)("div",{className:"grid grid-cols-2 gap-5 mt-6",children:[Object(p.jsx)(R,{className:" col-span-1",name:"createdAt",label:"Invoice Date",value:t.createdAt,setValue:function(e){n("createdAt",e)}}),Object(p.jsx)(P,{label:"Payment Terms",items:S,itemName:"text",itemValue:"value",name:"paymentTerms",value:t.paymentTerms,setValue:function(e){n("paymentTerms",e)}})]}),Object(p.jsx)(f,{label:"Project Description",name:"description"}),Object(p.jsx)("h2",{className:"mt-10 text-2xl font-bold text-gray-600 dark:text-gray-400",children:"Item List"}),Object(p.jsx)(b.c,{name:"items",render:function(e){return Object(p.jsxs)("div",{children:[t.items.map((function(a,r){return Object(p.jsxs)("div",{className:"grid grid-cols-10 gap-2",children:[Object(p.jsx)(f,{className:"col-span-4",label:"Name",name:"items.".concat(r,".name")}),Object(p.jsx)(f,{className:"col-span-1",label:"Qty.",name:"items.".concat(r,".quantity"),type:"number",onChange:function(e){c(e);var a=parseFloat(e.currentTarget.value);n("items.".concat(r,".total"),a*t.items[r].price)}}),Object(p.jsx)(f,{className:"col-span-2",label:"Price",name:"items.".concat(r,".price"),type:"number",onChange:function(e){c(e);var a=parseFloat(e.currentTarget.value);n("items.".concat(r,".total"),a*t.items[r].quantity)}}),Object(p.jsx)(f,{className:"col-span-2",label:"Total",name:"items.".concat(r,".total"),readonly:!0}),Object(p.jsx)("button",{type:"button",className:"items-center mt-11 rounded-full hover:bg-red-500 w-8 h-8",onClick:function(){e.remove(r)},children:Object(p.jsx)("img",{src:"/pf-invoice-app/assets/icon-delete.svg",className:"ml-2",alt:"icon-delete"})})]},r)})),Object(p.jsx)(g,{mode:r.NewItem,onClick:function(){return e.push({name:"",price:0,quantity:0,total:0})}})]})}})]})})}),Object(p.jsxs)("div",{className:"bg-white dark:bg-app-dark-4 shadow-t-xl fixed bottom-0 w-full max-w-3xl h-24 md:rounded-br-3xl flex justify-between px-8 pt-5",children:[Object(p.jsx)("div",{children:(s===h.CREATE||s===h.CREATE_DRAFT)&&Object(p.jsx)(g,{mode:r.Discard,onClick:function(){D()}})}),Object(p.jsxs)("div",{children:[(s===h.CREATE||s===h.CREATE_DRAFT)&&Object(p.jsx)(g,{mode:r.SaveAsDraft,onClick:function(){A()}}),(s===h.CREATE||s===h.CREATE_DRAFT)&&Object(p.jsx)(g,{mode:r.SaveAndSend,onClick:function(){C()}}),s===h.EDIT&&Object(p.jsx)(g,{mode:r.Cancel,onClick:function(){D()}}),s===h.EDIT&&Object(p.jsx)(g,{mode:r.SaveChange,onClick:function(){w()}})]})]})]})}}),Object(p.jsx)("div",{onClick:function(){t(!1)},className:"fixed z-10 inset-0 bg-gray-900 w-screen h-screen transition-opacity duration-300 "+(a?" opacity-60 translate-x-0 left-0 ":" opacity-0 -left-full")})]})},z=a(19),B=function(e){var t=e.status[0].toUpperCase()+e.status.substring(1),a="text-center p-2 w-24 rounded-xl";return"paid"===e.status&&(a+=" bg-green-500 bg-opacity-20 text-green-500"),"pending"===e.status&&(a+=" bg-yellow-500 bg-opacity-20 text-yellow-500"),"draft"===e.status&&(a+=" bg-gray-500 bg-opacity-20 text-gray-500"),Object(p.jsx)("div",{className:e.className?e.className:"",children:Object(p.jsxs)("div",{className:a,children:["\u2b24 ",t]})})},L=function(e){var t=M()(e.paymentDue).format("DD MMM YYYY"),a="/invoices/"+("draft"===e.status?"create/":"")+e.id,r=Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsxs)("div",{className:"hidden md:flex bg-white hover:bg-gray-50 dark:bg-app-dark-3 dark:hover:bg-app-dark-4 rounded-md w-auto mb-5 p-7 shadow justify-between items-center",children:[Object(p.jsxs)("div",{className:"flex-1",children:[Object(p.jsx)("span",{className:"text-purple font-bold mr-0.5 text-lg",children:"#"}),Object(p.jsx)("span",{className:"font-bold text-gray-800 dark:text-white text-lg",children:e.id})]}),Object(p.jsxs)("div",{className:"flex-1.5 text-gray-500 dark:text-gray-200",children:["Due ",t]}),Object(p.jsx)("div",{className:"flex-1.5 text-gray-500 dark:text-gray-200 bg text-left",children:e.clientName}),Object(p.jsxs)("div",{className:"flex-1 font-bold text-xl text-right text-black dark:text-gray-200",children:["\xa3",e.total]}),Object(p.jsxs)("div",{className:"flex-1.5 mx-2 flex items-center justify-center ",children:[Object(p.jsx)(B,{status:e.status}),Object(p.jsx)("img",{className:"ml-2 w-2 h-3",src:"/pf-invoice-app/assets/icon-arrow-right.svg",alt:"icon-arrow-right"})]})]}),Object(p.jsxs)("div",{className:"flex-col md:hidden bg-white hover:bg-gray-50 dark:bg-app-dark-3 dark:hover:bg-app-dark-4 rounded-md w-auto mb-5 p-7 shadow justify-between items-center",children:[Object(p.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"text-purple font-bold mr-0.5 text-lg",children:"#"}),Object(p.jsx)("span",{className:"font-bold text-gray-800 dark:text-white text-lg",children:e.id})]}),Object(p.jsx)("div",{className:"text-gray-500 dark:text-gray-200 bg text-right",children:e.clientName})]}),Object(p.jsxs)("div",{className:"flex-1 flex items-center justify-between",children:[Object(p.jsxs)("div",{className:"mt-6",children:[Object(p.jsxs)("div",{className:"text-gray-500 dark:text-gray-200",children:["Due ",t]}),Object(p.jsxs)("div",{className:"text-black dark:text-gray-200 font-bold text-xl text-left",children:["\xa3",e.total]})]}),Object(p.jsx)(B,{status:e.status,className:"mx-2 mt-4"})]})]})]});return"draft"!==e.status?Object(p.jsx)(z.b,{to:a,children:r}):Object(p.jsx)("div",{className:"cursor-pointer",onClick:function(){return e.openEditDraft(e.id)},children:r})},G=function(e){var t=e.children,a=e.className;return Object(p.jsx)("div",{className:"flex flex-col items-center w-screen mx-3 overflow-y-scroll pt-16 sm:pt-0 "+(a||""),children:t})},U=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),d=Object(l.a)(i,2),u=d[0],j=d[1],b=Object(n.useState)([]),f=Object(l.a)(b,2),v=f[0],N=f[1],k=Object(n.useState)(""),w=Object(l.a)(k,2),C=w[0],A=w[1],D=Object(n.useState)(!1),S=Object(l.a)(D,2),I=S[0],T=S[1],q=y((function(e){return e.invoice.invoices})),F=0===v.length,Y=F?q:q.filter((function(e){return v.includes(e.status)})),M=O();Object(n.useEffect)((function(){M(E())}),[M]);var R=function(){var e=Object(m.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(E());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){A(e),T(!0)},J=function(e){v.includes(e)?N(v.filter((function(t){return t!==e}))):N([].concat(Object(o.a)(v),[e]))};return Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(_,{mode:h.CREATE_DRAFT,darftId:C,show:I,setShow:T,reload:R}),Object(p.jsx)(_,{mode:h.CREATE,show:a,setShow:c,reload:R}),Object(p.jsx)(G,{children:Object(p.jsxs)("div",{className:"container max-w-5xl pt-10 mx-auto",children:[Object(p.jsxs)("div",{className:"flex justify-between mb-14",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"Invoices"}),Object(p.jsxs)("h3",{className:"text-sm mt-3 text-gray-600 dark:text-white",children:[0===Y.length?"No ":"There are ".concat(Y.length," "),F&&0!==Y.length&&" total ",v.includes("paid")&&" paid, ",v.includes("pending")&&" pending, ",v.includes("draft")&&" draft, ","Invoices"]})]}),Object(p.jsxs)("div",{className:"flex items-center",children:[u&&Object(p.jsx)("div",{className:" bg-transparent absolute w-screen h-screen inset-0",onClick:function(){return j(!1)}}),Object(p.jsxs)("div",{className:"relative",children:[Object(p.jsxs)("button",{className:"mr-5 text-gray-600 dark:text-white",onClick:function(){return j(!u)},children:["Filter by status ",Object(p.jsx)("img",{className:"inline-block",src:"/pf-invoice-app/assets/icon-arrow-down.svg",alt:"icon-arrow-down"})]}),u&&Object(p.jsxs)("div",{className:"absolute w-full bg-white dark:bg-app-dark-5 rounded-sm z-10",children:[Object(p.jsxs)("div",{onClick:function(){return J("draft")},className:"my-2 mx-4 rounded-sm text-gray-800 dark:text-gray-200 hover:font-bold cursor-pointer",children:[Object(p.jsx)("input",{type:"checkbox",className:"appearance-none rounded-sm bg-transparent checked:bg-purple mr-2 checked:border-transparent",checked:v.includes("draft"),onChange:function(){return J("draft")}})," ","Draft"]}),Object(p.jsxs)("div",{onClick:function(){return J("pending")},className:"my-2 mx-4 rounded-sm text-gray-800 dark:text-gray-200 hover:font-bold cursor-pointer",children:[Object(p.jsx)("input",{type:"checkbox",className:"appearance-none rounded-sm bg-transparent checked:bg-purple mr-2 checked:border-transparent",checked:v.includes("pending"),onChange:function(){return J("pending")}})," ","Pending"]}),Object(p.jsxs)("div",{onClick:function(){return J("paid")},className:"my-2 mx-4 rounded-sm text-gray-800 dark:text-gray-200 hover:font-bold cursor-pointer",children:[Object(p.jsx)("input",{type:"checkbox",className:"appearance-none rounded-sm bg-transparent checked:bg-purple mr-2 checked:border-transparent",checked:v.includes("paid"),onChange:function(){return J("paid")}})," ","Paid"]})]})]}),Object(p.jsx)(g,{onClick:function(){c(!0)},mode:r.NewInvoice})]})]}),Y.map((function(e){return Object(p.jsx)(L,{openEditDraft:P,id:e.id,clientName:e.clientName,paymentDue:e.paymentDue,total:e.total,status:e.status},e.id)})),0===Y.length&&Object(p.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:Object(p.jsxs)("div",{className:"w-full max-w-lg flex flex-col justify-center items-center",children:[Object(p.jsx)("img",{src:"/pf-invoice-app/assets/illustration-empty.svg",className:"w-full max-w-sm md:max-w-md lg:max-w-lg",alt:"no invoice"}),Object(p.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 dark:text-white",children:"There is nothing here"}),Object(p.jsxs)("h3",{className:"mt-10 text-gray-800 dark:text-white",children:["Create an invoice by clicking the ",Object(p.jsx)("b",{children:"New"})," button and get started"]})]})})]})})]})},H=function(e){var t=e.children;return Object(p.jsx)("div",{className:"fixed left-0 bottom-0 bg-white dark:bg-app-dark-3 shadow-t-xl min-w-full flex items-center justify-end sm:hidden h-auto p-3",children:t})},Q=function(e){var t=e.itemList,a=e.total;return Object(p.jsxs)("div",{className:"bg-app-light dark:bg-app-dark-5 mt-4 rounded-xl shadow",children:[Object(p.jsx)("div",{className:"p-8 pb-0",children:Object(p.jsxs)("table",{className:"w-full",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"hidden md:table-row text-gray-400",children:[Object(p.jsx)("th",{className:"text-left font-normal",children:"Item Name"}),Object(p.jsx)("th",{className:"font-normal",children:"QTY."}),Object(p.jsx)("th",{className:"text-right font-normal",children:"Price"}),Object(p.jsx)("th",{className:"text-right font-normal",children:"Total"})]})}),Object(p.jsx)("tbody",{children:t.map((function(e){return Object(p.jsxs)("tr",{className:"h-16",children:[Object(p.jsx)("td",{className:"font-bold dark:text-white",children:e.name}),Object(p.jsx)("td",{className:"text-center font-bold text-gray-400",children:e.quantity}),Object(p.jsx)("td",{className:"text-right font-bold text-gray-400",children:e.price}),Object(p.jsxs)("td",{className:"text-right font-bold dark:text-white",children:["\xa3",e.total]})]},e.name)}))})]})}),Object(p.jsxs)("div",{className:" bg-app-dark-3 dark:bg-app-dark-2 p-4 px-8 text-white rounded-b-xl flex justify-between items-end",children:[Object(p.jsx)("span",{className:"text-gray-300",children:"Amount Due"}),Object(p.jsxs)("span",{className:"font-bold text-2xl",children:["\xa3",a]})]})]})},K=function(e){var t=e.open,a=e.setClose,r=e.title,n=e.info,c=e.buttonGroup;return t?Object(p.jsx)(s.a.Fragment,{children:Object(p.jsxs)("div",{className:"fixed w-screen h-screen top-0 left-0 flex justify-center items-center",children:[Object(p.jsx)("div",{className:"w-screen h-screen bg-black fixed top-0 left-0 opacity-70 z-40",onClick:a}),Object(p.jsxs)("div",{className:"bg-white dark:bg-app-dark-4 p-8 rounded-md z-50 max-w-xl mx-5",children:[Object(p.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r}),Object(p.jsx)("p",{className:"text-gray-900 dark:text-white mt-8",children:n}),Object(p.jsx)("div",{className:"w-auto text-right mt-6",children:c})]})]})}):null},W=function(){var e=Object(d.g)(),t=Object(n.useState)(!1),a=Object(l.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(!1),u=Object(l.a)(o,2),b=u[0],f=u[1],v=y((function(e){return e.invoice.invoiceItem})),N=Object(d.h)().invoiceId,k=O();Object(n.useEffect)((function(){N&&k(I(N))}),[k,N]);var w=v&&v.id===N?v:null,C=Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(g,{onClick:function(){return i(!0)},mode:r.Edit}),Object(p.jsx)(g,{onClick:function(){return f(!0)},mode:r.Delete}),"pending"===(null===w||void 0===w?void 0:w.status)&&Object(p.jsx)(g,{onClick:function(){var e;"pending"===(null===v||void 0===v?void 0:v.status)&&N&&(k((e=N,function(){var t=Object(m.a)(x.a.mark((function t(a,r){var n,s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=r().invoice.invoices,s=n.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{status:t.id===e?"paid":t.status})})),localStorage.setItem("data",JSON.stringify(s))}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())),k(I(N)))},mode:r.MarkAsPaid})]}),A=w?M()(w.createdAt).format("DD MMM YYYY"):"",D=w?M()(w.paymentDue).format("DD MMM YYYY"):"",S=Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsx)(g,{onClick:function(){return f(!1)},mode:r.Cancel}),Object(p.jsx)(g,{onClick:function(){k(T(N)),e.replace("/invoices")},mode:r.Delete})]});return Object(p.jsx)(G,{className:"pb-16 sm:pb-0",children:Object(p.jsxs)("div",{className:"container max-w-5xl pt-10 mx-auto",children:[Object(p.jsx)(z.b,{to:"/invoices",children:Object(p.jsxs)("button",{className:"flex items-center mb-10",children:[Object(p.jsx)("img",{className:"mr-5",src:"/pf-invoice-app/assets/icon-arrow-left.svg",alt:"icon-arrow-left"}),Object(p.jsx)("span",{className:"text-gray-800 dark:text-white font-bold",children:"Go Back"})]})}),w&&Object(p.jsxs)(s.a.Fragment,{children:[Object(p.jsxs)("div",{className:"bg-white dark:bg-app-dark-3 rounded-md shadow-md p-5 mx-auto flex justify-between",children:[Object(p.jsxs)("div",{className:"flex items-center dark:text-gray-400",children:["Status ",Object(p.jsx)(B,{status:w.status,className:"ml-3"})]}),Object(p.jsx)("div",{className:"hidden sm:block",children:C})]}),Object(p.jsxs)("div",{className:"bg-white dark:bg-app-dark-3 rounded-md shadow-md p-5 mt-6 flex-col justify-between mb-10",children:[Object(p.jsxs)("div",{className:"grid grid-cols-2 justify-between items-center flex-1",children:[Object(p.jsxs)("div",{className:"mt-3 col-span-2 sm:col-span-1",children:[Object(p.jsxs)("div",{className:"text-2xl dark:text-white",children:["#",Object(p.jsx)("span",{className:" font-bold",children:w.id})]}),Object(p.jsx)("p",{className:"mt-2 text-gray-500",children:w.description})]}),Object(p.jsx)("div",{className:"mt-12 sm:mt-6 col-span-2 sm:col-span-1 flex sm:justify-end justify-start",children:Object(p.jsxs)("div",{className:"mr-5 text-gray-500",children:[Object(p.jsx)("p",{children:w.senderAddress.street}),Object(p.jsx)("p",{children:w.senderAddress.city}),Object(p.jsx)("p",{children:w.senderAddress.postCode}),Object(p.jsx)("p",{children:w.senderAddress.country})]})})]}),Object(p.jsxs)("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-3",children:[Object(p.jsxs)("div",{className:"flex-1",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:"invoice Date"}),Object(p.jsx)("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:A})]}),Object(p.jsxs)("div",{className:"mt-10",children:[Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:"Payment Due"}),Object(p.jsx)("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:D})]})]}),Object(p.jsxs)("div",{className:"flex-1",children:[Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:"Bill To"}),Object(p.jsx)("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:w.clientName}),Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:w.clientAddress.street}),Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:w.clientAddress.city}),Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:w.clientAddress.postCode}),Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:w.clientAddress.country})]}),Object(p.jsxs)("div",{className:"flex-1.5 mt-10 sm:mt-0",children:[Object(p.jsx)("p",{className:"text-md text-gray-500 dark:text-gray-200",children:"Sent To"}),Object(p.jsx)("p",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:w.clientEmail})]})]}),Object(p.jsx)(Q,{itemList:w.items,total:w.total})]}),Object(p.jsx)(_,{show:c,setShow:i,mode:h.EDIT,reload:function(){k(I(N))}}),Object(p.jsx)(H,{children:C}),Object(p.jsx)(K,{open:b,setClose:function(){return f(!1)},title:"Confirm Deletion",info:"Are you sure you want to delete invoice #".concat(N,"? This action cannot be undone."),buttonGroup:S})]})]})})},X=function(e){var t=e.toggleDarkModeHandler;return Object(p.jsxs)("div",{className:"bg-green-200",children:[Object(p.jsxs)("div",{className:"hidden sm:flex flex-col w-20 h-screen absolute bg-app-dark-3 rounded-r-3xl overflow-hidden",children:[Object(p.jsx)("div",{className:"flex-none flex justify-center items-center text-white bg-purple h-20",children:Object(p.jsx)("img",{src:"/pf-invoice-app/assets/logo.svg",alt:"logo"})}),Object(p.jsx)("div",{className:"flex-grow"}),Object(p.jsx)("div",{className:"flex-none text-center text-white",children:Object(p.jsxs)("button",{onClick:t,children:[Object(p.jsx)("img",{className:"block dark:hidden",src:"/pf-invoice-app/assets/icon-moon.svg",alt:"icon-moon"}),Object(p.jsx)("img",{className:"hidden dark:block",src:"/pf-invoice-app/assets/icon-sun.svg",alt:"icon-sun"})]})}),Object(p.jsx)("hr",{className:"w-auto mx-1 my-4 border-purple-line"}),Object(p.jsx)("div",{className:"flex-none flex justify-center",children:Object(p.jsx)("img",{className:"rounded-full w-10 mb-3",src:"/pf-invoice-app/assets/image-avatar.jpg",alt:"avatar"})})]}),Object(p.jsxs)("div",{className:"flex justify-between sm:hidden fixed top-0 w-screen bg-app-dark-3 h-16",children:[Object(p.jsx)("div",{className:"flex-none flex justify-center items-center text-white bg-purple w-16",children:Object(p.jsx)("img",{src:"/pf-invoice-app/assets/logo.svg",alt:"logo"})}),Object(p.jsxs)("div",{className:"flex h-auto items-center justify-center",children:[Object(p.jsx)("div",{className:"flex-none text-center text-white my-0 mr-3 pr-3 border-r border-gray-600",children:Object(p.jsxs)("button",{onClick:t,children:[Object(p.jsx)("img",{className:"block dark:hidden",src:"/pf-invoice-app/assets/icon-moon.svg",alt:"icon-moon"}),Object(p.jsx)("img",{className:"hidden dark:block",src:"/pf-invoice-app/assets/icon-sun.svg",alt:"icon-sun"})]})}),Object(p.jsx)("img",{className:"rounded-full w-10 h-10 mr-3",src:"/pf-invoice-app/assets/image-avatar.jpg",alt:"avatar"})]})]})]})};var Z=function(){null===localStorage.getItem("theme")&&localStorage.setItem("theme","light");var e=localStorage.getItem("theme"),t=Object(n.useState)(e),a=Object(l.a)(t,2),r=a[0],s=a[1],c="dark"===r?" dark":"";return Object(p.jsx)("div",{className:"containter "+c,children:Object(p.jsxs)("div",{className:"bg-app-light dark:bg-app-dark-1 duration-500",children:[Object(p.jsx)(X,{toggleDarkModeHandler:function(){s((function(e){var t="light";return"light"===e&&(t="dark"),localStorage.setItem("theme",t),t}))}}),Object(p.jsxs)("div",{className:"flex w-auto h-screen",children:[Object(p.jsx)("div",{className:"sm:ml-20"}),Object(p.jsxs)(d.d,{children:[Object(p.jsx)(d.b,{exact:!0,path:"/",children:Object(p.jsx)(d.a,{to:"/invoices"})}),Object(p.jsx)(d.b,{exact:!0,path:"/invoices",children:Object(p.jsx)(U,{})}),Object(p.jsx)(d.b,{path:"/invoices/:invoiceId",children:Object(p.jsx)(W,{})})]})]})]})})},$=(a(226),Object(k.a)({reducer:{invoice:A.reducer}}));i.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(v.a,{store:$,children:Object(p.jsx)(z.a,{children:Object(p.jsx)(Z,{})})})}),document.getElementById("root"))}},[[227,1,2]]]);
//# sourceMappingURL=main.d8c9fe3a.chunk.js.map